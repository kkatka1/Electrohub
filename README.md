Electrohub — Электронная торговая сеть

Electrohub — это онлайн-платформа с API-интерфейсом и админ-панелью для управления иерархией поставщиков и продавцов электроники.
Описание проекта

Проект реализует модель торговой сети с иерархией из трёх уровней:

    Завод

    Розничная сеть

    Индивидуальный предприниматель

Каждое звено связано только с одним поставщиком, и структура сети не может превышать трёх уровней вложенности. Также реализован учёт задолженности перед поставщиком и отображение продуктов, продаваемых звеном сети.
Технологии

    Python 3.11+

    Django 5.2.3

    Django REST Framework (DRF)

    PostgreSQL

    Swagger / Redoc (документация)

    JWT-аутентификация (simplejwt)

    CORS headers

    PEP8 / Black / Flake8 (статический анализ)

    Docker / dotenv (предусмотрено)

Функционал
Основное

    Модель сети с уровнями: завод, розничная сеть, ИП.

    Указание поставщика и контроль допустимой цепочки поставок.

    Продукты и контактные данные для каждого звена.

    Подсчёт и отображение задолженности.

    Автоматическое определение уровня и времени создания.

Админ-панель

    Просмотр элементов сети, фильтрация по городам.

    Ссылка на поставщика.

    Admin-action для очистки задолженности.

    Отдельные модели продуктов и контактов.

API (DRF)

    CRUD для всех моделей.

    Фильтрация по стране и другим полям.

    Права доступа: только для активных пользователей (IsActiveEmployee).

    Пагинация с параметром page_size.

    Запрещено изменение поля debt через API.

Документация

    Swagger: /swagger/

    Redoc: /redoc/

Проверка кода

Проект соответствует стандартам кода:

    black

    flake8

    flake8-isort

    flake8-black

Установка и запуск

# Клонировать репозиторий
git clone https://github.com/your-username/electrohub.git
cd electrohub

# Создать и активировать виртуальное окружение
python3 -m venv .venv
source .venv/bin/activate

# Установить зависимости
pip install -r requirements.txt

# Настроить переменные окружения
cp .env.example .env
# затем отредактируйте .env и укажите свои значения

# Применить миграции
python manage.py migrate

# Создать суперпользователя
python manage.py csu  # кастомная команда

# Запустить сервер
python manage.py runserver

Аутентификация

Для работы с API используется JWT:

    Получение токена: POST /token/

    Обновление токена: POST /token/refresh/

Пример запроса:

POST /token/
{
  "username": "admin",
  "password": "123qwe456rty"
}

Тестовые данные

Для удобства доступна команда для создания суперпользователя:

python manage.py csu

Ограничения

    Через API запрещено редактировать поле debt.

    Цепочка поставщиков не должна превышать 3 уровня.

    Пользователь должен быть активным для получения доступа к API.
